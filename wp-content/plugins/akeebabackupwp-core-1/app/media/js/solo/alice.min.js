if(typeof(akeeba)=="undefined"){var akeeba={}}if(typeof(akeeba.jQuery)=="undefined"){akeeba.jQuery=jQuery}var AKEEBA_ANALYZE_SUCCESS=1;var AKEEBA_ANALYZE_WARNING=0;var AKEEBA_ANALYZE_FAILURE=-1;if(typeof Solo=="undefined"){var Solo={}}if(typeof Solo.Alice=="undefined"){Solo.Alice={log_selector:null,analyze:null,raw_output:null,translations:{},akeebaUrl:""}}(function(a){Solo.Alice.onLogChange=function(){Solo.Alice.log_selector.val()?Solo.Alice.analyze.show():Solo.Alice.analyze.hide()};Solo.Alice.onAnalyze=function(){if(Solo.Alice.analyze.data("started")==true){return false}Solo.Alice.analyze.addClass("btn-inverse").removeClass("btn-primary").data("started",true);Solo.Alice.log_selector.attr("disabled",true);Solo.Alice.raw_output.hide();a("#stepper-complete").empty();var b=new AkeebaStepper({onBeforeStart:function(c){c.data.log=Solo.Alice.log_selector.val()},onComplete:function(k){var e="";var g=akeeba.jQuery(document.createElement("div")).addClass("well");var h=akeeba.jQuery(document.createElement("div")).addClass("row-striped").appendTo(g);var f=JSON.parse(k.Results);var c=Solo.Alice.translations.SOLO_ALICE_SUCCESSS;var d=Solo.Alice.translations.SOLO_ALICE_WARNING;var i=Solo.Alice.translations.SOLO_ALICE_ERROR;akeeba.jQuery.each(f,function(l,o){var q=a(document.createElement("div")).addClass("row-fluid").css("width","99%");var n="label-success";var p=c;if(o.result==AKEEBA_ANALYZE_WARNING){p=d;n="label-warning"}else{if(o.result==AKEEBA_ANALYZE_FAILURE){p=i;n="label-danger"}}a(document.createElement("div")).addClass("pull-left").html(o.check).appendTo(q);a(document.createElement("div")).addClass("pull-right label "+n).html(p).appendTo(q);a(document.createElement("div")).addClass("clearfix").appendTo(q);if(o.result!=AKEEBA_ANALYZE_SUCCESS){e+="[b]"+o.check+"[/b]\n"+o.error+"\n\n";var m=a(document.createElement("div")).addClass("help-block").appendTo(q);a(document.createElement("div")).html(o.error).appendTo(m);a(document.createElement("div")).html(a(document.createElement("em")).html(o.solution)).appendTo(m)}q.appendTo(h)});g.appendTo("#stepper-complete");a("#stepper-progress-pane").hide("fast");a("#stepper-complete").show();Solo.Alice.analyze.removeClass("btn-inverse").addClass("btn-primary").data("started",false);Solo.Alice.log_selector.attr("disabled",null);if(e){var j="------ BEGIN OF ALICE RAW OUTPUT -----\n";j+=e.replace(/<br\/>/gi,"\n");j+="------ END OF ALICE RAW OUTPUT -----\n";Solo.Alice.raw_output.find("textarea").val(j);Solo.Alice.raw_output.show()}}});b.init();return false};Solo.Alice.onFocus=function(){var c=a(this);c.select();window.setTimeout(function(){c.select()},1);function b(){c.off("mouseup",b);return false}c.mouseup(b)}})(akeeba.jQuery);